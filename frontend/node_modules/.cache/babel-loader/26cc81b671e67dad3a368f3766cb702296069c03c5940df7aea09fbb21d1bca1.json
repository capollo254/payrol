{"ast":null,"code":"// src/api/auth.js\n\nimport axios from 'axios';\n\n// The base URL for your Django backend\n// This should be the address where your Django server is running\nconst API_URL = 'http://127.0.0.1:8000/api/v1/';\n\n// Create an Axios instance with the base URL\nconst api = axios.create({\n  baseURL: API_URL\n});\n\n/**\r\n * Handles the user login process.\r\n * Sends a POST request to the backend with the user's email and password.\r\n * @param {string} email - The user's email address.\r\n * @param {string} password - The user's password.\r\n * @returns {Promise<object>} The response data from the backend (e.g., auth token).\r\n */\nexport const login = async (email, password) => {\n  const response = await api.post('auth/token/login/', {\n    email,\n    password\n  });\n  return response.data;\n};\n\n/**\r\n * Logs the user out by clearing the token and role from local storage.\r\n * This function also redirects the user to the login page.\r\n */\nexport const logout = () => {\n  localStorage.removeItem('token');\n  localStorage.removeItem('role');\n  window.location.href = '/login';\n};\n\n// Export the configured Axios instance for other API files to use\nexport default api;","map":{"version":3,"names":["axios","API_URL","api","create","baseURL","login","email","password","response","post","data","logout","localStorage","removeItem","window","location","href"],"sources":["C:/Users/Code_AI/Documents/PAYROL SYSTEM COMPLEX/Apollo PAYROL SYSTEM - backup 3 working backend/kenyan_payroll_system/frontend/src/api/auth.js"],"sourcesContent":["// src/api/auth.js\r\n\r\nimport axios from 'axios';\r\n\r\n// The base URL for your Django backend\r\n// This should be the address where your Django server is running\r\nconst API_URL = 'http://127.0.0.1:8000/api/v1/';\r\n\r\n// Create an Axios instance with the base URL\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n});\r\n\r\n/**\r\n * Handles the user login process.\r\n * Sends a POST request to the backend with the user's email and password.\r\n * @param {string} email - The user's email address.\r\n * @param {string} password - The user's password.\r\n * @returns {Promise<object>} The response data from the backend (e.g., auth token).\r\n */\r\nexport const login = async (email, password) => {\r\n  const response = await api.post('auth/token/login/', { email, password });\r\n  return response.data;\r\n};\r\n\r\n/**\r\n * Logs the user out by clearing the token and role from local storage.\r\n * This function also redirects the user to the login page.\r\n */\r\nexport const logout = () => {\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('role');\r\n  window.location.href = '/login';\r\n};\r\n\r\n// Export the configured Axios instance for other API files to use\r\nexport default api;"],"mappings":"AAAA;;AAEA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA,MAAMC,OAAO,GAAG,+BAA+B;;AAE/C;AACA,MAAMC,GAAG,GAAGF,KAAK,CAACG,MAAM,CAAC;EACvBC,OAAO,EAAEH;AACX,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMI,KAAK,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;EAC9C,MAAMC,QAAQ,GAAG,MAAMN,GAAG,CAACO,IAAI,CAAC,mBAAmB,EAAE;IAAEH,KAAK;IAAEC;EAAS,CAAC,CAAC;EACzE,OAAOC,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAC1BC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;EAChCD,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;EAC/BC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;AACjC,CAAC;;AAED;AACA,eAAed,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}