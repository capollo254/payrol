{"ast":null,"code":"// api/compliance.js\n\n// The base URL for your Django backend\nconst API_BASE_URL = 'http://127.0.0.1:8000/api/v1';\n\n// Get token from localStorage\nconst getToken = () => localStorage.getItem('token');\n\n// Statutory Rates API\nexport const getStatutoryRates = async () => {\n  try {\n    const token = getToken();\n    const response = await fetch(`${API_BASE_URL}/compliance/statutory-rates/current_rates/`, {\n      headers: {\n        'Authorization': `Token ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching statutory rates:', error);\n    throw error;\n  }\n};\nexport const updateStatutoryRates = async ratesData => {\n  try {\n    const token = getToken();\n    const response = await fetch(`${API_BASE_URL}/compliance/statutory-rates/bulk_update/`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Token ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(ratesData)\n    });\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.error || `HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Error updating statutory rates:', error);\n    throw error;\n  }\n};\nexport const getStatutoryRatesList = async () => {\n  try {\n    const token = getToken();\n    const response = await fetch(`${API_BASE_URL}/compliance/statutory-rates/`, {\n      headers: {\n        'Authorization': `Token ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching statutory rates list:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["API_BASE_URL","getToken","localStorage","getItem","getStatutoryRates","token","response","fetch","headers","ok","Error","status","json","error","console","updateStatutoryRates","ratesData","method","body","JSON","stringify","errorData","getStatutoryRatesList"],"sources":["C:/Users/Code_AI/Documents/PAYROL SYSTEM COMPLEX/Backup Payrol Files-working/kenyan_payroll_system/frontend/src/api/compliance.js"],"sourcesContent":["// api/compliance.js\r\n\r\n// The base URL for your Django backend\r\nconst API_BASE_URL = 'http://127.0.0.1:8000/api/v1';\r\n\r\n// Get token from localStorage\r\nconst getToken = () => localStorage.getItem('token');\r\n\r\n// Statutory Rates API\r\nexport const getStatutoryRates = async () => {\r\n  try {\r\n    const token = getToken();\r\n    const response = await fetch(`${API_BASE_URL}/compliance/statutory-rates/current_rates/`, {\r\n      headers: {\r\n        'Authorization': `Token ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error fetching statutory rates:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateStatutoryRates = async (ratesData) => {\r\n  try {\r\n    const token = getToken();\r\n    const response = await fetch(`${API_BASE_URL}/compliance/statutory-rates/bulk_update/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Token ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(ratesData),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.error || `HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error updating statutory rates:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getStatutoryRatesList = async () => {\r\n  try {\r\n    const token = getToken();\r\n    const response = await fetch(`${API_BASE_URL}/compliance/statutory-rates/`, {\r\n      headers: {\r\n        'Authorization': `Token ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error fetching statutory rates list:', error);\r\n    throw error;\r\n  }\r\n};"],"mappings":"AAAA;;AAEA;AACA,MAAMA,YAAY,GAAG,8BAA8B;;AAEnD;AACA,MAAMC,QAAQ,GAAGA,CAAA,KAAMC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;;AAEpD;AACA,OAAO,MAAMC,iBAAiB,GAAG,MAAAA,CAAA,KAAY;EAC3C,IAAI;IACF,MAAMC,KAAK,GAAGJ,QAAQ,CAAC,CAAC;IACxB,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGP,YAAY,4CAA4C,EAAE;MACxFQ,OAAO,EAAE;QACP,eAAe,EAAE,SAASH,KAAK,EAAE;QACjC,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IAEF,IAAI,CAACC,QAAQ,CAACG,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuBJ,QAAQ,CAACK,MAAM,EAAE,CAAC;IAC3D;IAEA,OAAO,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACvD,MAAMA,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAME,oBAAoB,GAAG,MAAOC,SAAS,IAAK;EACvD,IAAI;IACF,MAAMX,KAAK,GAAGJ,QAAQ,CAAC,CAAC;IACxB,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGP,YAAY,0CAA0C,EAAE;MACtFiB,MAAM,EAAE,MAAM;MACdT,OAAO,EAAE;QACP,eAAe,EAAE,SAASH,KAAK,EAAE;QACjC,cAAc,EAAE;MAClB,CAAC;MACDa,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,SAAS;IAChC,CAAC,CAAC;IAEF,IAAI,CAACV,QAAQ,CAACG,EAAE,EAAE;MAChB,MAAMY,SAAS,GAAG,MAAMf,QAAQ,CAACM,IAAI,CAAC,CAAC;MACvC,MAAM,IAAIF,KAAK,CAACW,SAAS,CAACR,KAAK,IAAI,uBAAuBP,QAAQ,CAACK,MAAM,EAAE,CAAC;IAC9E;IAEA,OAAO,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACvD,MAAMA,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAMS,qBAAqB,GAAG,MAAAA,CAAA,KAAY;EAC/C,IAAI;IACF,MAAMjB,KAAK,GAAGJ,QAAQ,CAAC,CAAC;IACxB,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGP,YAAY,8BAA8B,EAAE;MAC1EQ,OAAO,EAAE;QACP,eAAe,EAAE,SAASH,KAAK,EAAE;QACjC,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IAEF,IAAI,CAACC,QAAQ,CAACG,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuBJ,QAAQ,CAACK,MAAM,EAAE,CAAC;IAC3D;IAEA,OAAO,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;IAC5D,MAAMA,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}