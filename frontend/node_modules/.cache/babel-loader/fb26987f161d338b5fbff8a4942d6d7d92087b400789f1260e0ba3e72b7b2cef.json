{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Code_AI\\\\Documents\\\\PAYROL SYSTEM COMPLEX\\\\Backup Payrol Files-working\\\\kenyan_payroll_system\\\\frontend\\\\src\\\\components\\\\forms\\\\CreatePayrollRunForm.js\",\n  _s = $RefreshSig$();\n// src/components/forms/CreatePayrollRunForm.js\n\nimport React, { useState } from 'react';\nimport InputField from '../common/InputField';\nimport Button from '../common/Button';\nimport { createPayrollRun } from '../../api/payroll';\n\n/**\r\n * A form component to create a new payroll run.\r\n * @param {object} props - Component props.\r\n * @param {function} props.onRunCreated - Callback function to run on successful payroll run creation.\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreatePayrollRunForm = ({\n  onRunCreated\n}) => {\n  _s();\n  const [runDate, setRunDate] = useState('');\n  const [periodStartDate, setPeriodStartDate] = useState('');\n  const [periodEndDate, setPeriodEndDate] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    setSuccess(null);\n    try {\n      const data = {\n        run_date: runDate,\n        period_start_date: periodStartDate,\n        period_end_date: periodEndDate\n      };\n      await createPayrollRun(data);\n      setSuccess('Payroll run created successfully! Payslips are being generated.');\n      onRunCreated();\n    } catch (err) {\n      console.error('Error creating payroll run:', err);\n      setError('Failed to create payroll run. Please check the dates.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Run New Payroll\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(InputField, {\n        label: \"Run Date\",\n        type: \"date\",\n        value: runDate,\n        onChange: e => setRunDate(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        label: \"Payroll Period Start Date\",\n        type: \"date\",\n        value: periodStartDate,\n        onChange: e => setPeriodStartDate(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        label: \"Payroll Period End Date\",\n        type: \"date\",\n        value: periodEndDate,\n        onChange: e => setPeriodEndDate(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 19\n      }, this), success && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"message success\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        className: \"btn-success\",\n        disabled: loading,\n        children: loading ? 'Running...' : 'Create Payroll Run'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(CreatePayrollRunForm, \"/zgn5zKlDwZEygX2Lij/f5Kpu38=\");\n_c = CreatePayrollRunForm;\nexport default CreatePayrollRunForm;\nvar _c;\n$RefreshReg$(_c, \"CreatePayrollRunForm\");","map":{"version":3,"names":["React","useState","InputField","Button","createPayrollRun","jsxDEV","_jsxDEV","CreatePayrollRunForm","onRunCreated","_s","runDate","setRunDate","periodStartDate","setPeriodStartDate","periodEndDate","setPeriodEndDate","loading","setLoading","error","setError","success","setSuccess","handleSubmit","e","preventDefault","data","run_date","period_start_date","period_end_date","err","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","label","type","value","onChange","target","required","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Code_AI/Documents/PAYROL SYSTEM COMPLEX/Backup Payrol Files-working/kenyan_payroll_system/frontend/src/components/forms/CreatePayrollRunForm.js"],"sourcesContent":["// src/components/forms/CreatePayrollRunForm.js\r\n\r\nimport React, { useState } from 'react';\r\nimport InputField from '../common/InputField';\r\nimport Button from '../common/Button';\r\nimport { createPayrollRun } from '../../api/payroll';\r\n\r\n/**\r\n * A form component to create a new payroll run.\r\n * @param {object} props - Component props.\r\n * @param {function} props.onRunCreated - Callback function to run on successful payroll run creation.\r\n */\r\nconst CreatePayrollRunForm = ({ onRunCreated }) => {\r\n  const [runDate, setRunDate] = useState('');\r\n  const [periodStartDate, setPeriodStartDate] = useState('');\r\n  const [periodEndDate, setPeriodEndDate] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n    setSuccess(null);\r\n    try {\r\n      const data = {\r\n        run_date: runDate,\r\n        period_start_date: periodStartDate,\r\n        period_end_date: periodEndDate,\r\n      };\r\n      await createPayrollRun(data);\r\n      setSuccess('Payroll run created successfully! Payslips are being generated.');\r\n      onRunCreated();\r\n    } catch (err) {\r\n      console.error('Error creating payroll run:', err);\r\n      setError('Failed to create payroll run. Please check the dates.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <h2>Run New Payroll</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <InputField\r\n          label=\"Run Date\"\r\n          type=\"date\"\r\n          value={runDate}\r\n          onChange={(e) => setRunDate(e.target.value)}\r\n          required\r\n        />\r\n        <InputField\r\n          label=\"Payroll Period Start Date\"\r\n          type=\"date\"\r\n          value={periodStartDate}\r\n          onChange={(e) => setPeriodStartDate(e.target.value)}\r\n          required\r\n        />\r\n        <InputField\r\n          label=\"Payroll Period End Date\"\r\n          type=\"date\"\r\n          value={periodEndDate}\r\n          onChange={(e) => setPeriodEndDate(e.target.value)}\r\n          required\r\n        />\r\n        {error && <p className=\"error\">{error}</p>}\r\n        {success && <p className=\"message success\">{success}</p>}\r\n        <Button type=\"submit\" className=\"btn-success\" disabled={loading}>\r\n          {loading ? 'Running...' : 'Create Payroll Run'}\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreatePayrollRunForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}